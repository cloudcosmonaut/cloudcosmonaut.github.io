<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="When we talk about password, most people use a password manager and no longer use the same password for multiple accounts. But I notice, that a lot of people share there SSH key with multiple accounts and don&amp;rsquo;t even protect them with a passphrase.
What do we need? Similar to keys to your house keys, you want seperate keys for the different persona&amp;rsquo;s you imporsonate or roles you have. E.g. for your home projects, your work projects, and client projects."><meta name=keywords content="Hindrik Bruinsma,blog,GitHub,GitHub Actions,DevOps,Azure,Azure DevOps,ssh,github,enterprise,server,ghes"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://cloudcosmonaut.io/posts/2022/secure_keymanagement_for_modern_developers/><title>Secure key management for modern developers :: Cloud Cosmonaut</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.eaf4f2571fc0260b30532ce37bc0e1c2107885bfec3b592755f30dba7741301e.css><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color><link rel="shortcut icon" href=/favicon.ico><meta name=msapplication-TileColor content><meta name=theme-color content><meta itemprop=name content="Secure key management for modern developers"><meta itemprop=description content="When we talk about password, most people use a password manager and no longer use the same password for multiple accounts. But I notice, that a lot of people share there SSH key with multiple accounts and don&rsquo;t even protect them with a passphrase.
What do we need? Similar to keys to your house keys, you want seperate keys for the different persona&rsquo;s you imporsonate or roles you have. E.g. for your home projects, your work projects, and client projects."><meta itemprop=datePublished content="2022-05-27T12:00:01+02:00"><meta itemprop=dateModified content="2022-05-27T12:00:01+02:00"><meta itemprop=wordCount content="309"><meta itemprop=image content="https://cloudcosmonaut.io/"><meta itemprop=keywords content="ssh,github,enterprise,server,ghes,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cloudcosmonaut.io/"><meta name=twitter:title content="Secure key management for modern developers"><meta name=twitter:description content="When we talk about password, most people use a password manager and no longer use the same password for multiple accounts. But I notice, that a lot of people share there SSH key with multiple accounts and don&rsquo;t even protect them with a passphrase.
What do we need? Similar to keys to your house keys, you want seperate keys for the different persona&rsquo;s you imporsonate or roles you have. E.g. for your home projects, your work projects, and client projects."><meta property="article:published_time" content="2022-05-27 12:00:01 +0200 +0200"><script async src="https://www.googletagmanager.com/gtag/js?id=G-W4BEF9DFPC"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W4BEF9DFPC",{anonymize_ip:!1})}</script><script defer data-domain=cloudcosmonaut.io src=https://cloudcosmonaut.io/plausible/script.js></script></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>Cloud Cosmonaut</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>2 minutes</p></div><article><h1 class=post-title><a href=https://cloudcosmonaut.io/posts/2022/secure_keymanagement_for_modern_developers/>Secure key management for modern developers</a></h1><div class=post-content><p>When we talk about password, most people use a password manager and no longer use the same password for multiple accounts. But I notice, that a lot of people share there SSH key with multiple accounts and don&rsquo;t even protect them with a passphrase.</p><h1 id=what-do-we-need>What do we need?</h1><p>Similar to keys to your house keys, you want seperate keys for the different persona&rsquo;s you imporsonate or roles you have. E.g. for your home projects, your work projects, and client projects. But also per Saas or PaaS you connect to (e.g. GitHub, Azure DevOps, etc.).</p><p>You want this in two forms. Keys to connect to the remote systems, and keys to sign your commits. Commit signing will be story for another time ;) It&rsquo;s a good security practice, to add passwords to your keys. Please don&rsquo;t forget this. Services like GitHub and Azure DevOps can enforce this with a policy, but don&rsquo;t do this by default.</p><h1 id=setting-up-ssh-keys-for-secure-connection>Setting up SSH-keys for secure connection</h1><p>Note, you should create keys according to the current standards. Currently, you should use a Elyptic curve based key. One downside, Azure DevOps doesn&rsquo;t support these modern keys and rely on a legacy RSA key.</p><p>Generating a key for my work role @Xpirit on GitHub:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen -t ed25519 -C <span style=color:#e6db74>&#34;xpirit@github&#34;</span> -f ~/.ssh/id_ed25519_xpirit_github
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh-keygen -t rsa -b <span style=color:#ae81ff>4096</span> -C <span style=color:#e6db74>&#34;customer@azdo&#34;</span> -f ~/.ssh/id_rsa_customer_azdo
</span></span></code></pre></div><p>GitHub stores the keys on your account level, you can only assign specific keys to an organization when SSO is enabled for this organization.</p><p>You can add your ssh key <a href=https://github.com/settings/keys>https://github.com/settings/keys</a>.</p><p>On Azure DevOps, keys are spicificly bound to your account on an organization. So this gives you a little better fine grained control. You can only assign a key to a single organization. Azure DevOps will prevent you from re-using a key.</p><p>Just go the the accouns settings of your user on the organization, like:
<a href=https://dev.azure.com/%3C%3CORGANIZATION%3E%3E/_usersSettings/keys>https://dev.azure.com/&#171;ORGANIZATION&#187;/_usersSettings/keys</a>.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://cloudcosmonaut.io/tags/ssh/>ssh</a></span>
<span class=tag><a href=https://cloudcosmonaut.io/tags/github/>github</a></span>
<span class=tag><a href=https://cloudcosmonaut.io/tags/enterprise/>enterprise</a></span>
<span class=tag><a href=https://cloudcosmonaut.io/tags/server/>server</a></span>
<span class=tag><a href=https://cloudcosmonaut.io/tags/ghes/>ghes</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>309 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2022-05-27 10:00</p></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=https://cloudcosmonaut.io/posts/2021/12/weekly-update-runner-toolchain/><span class=button__text>Weekly update runner toolchain</span>
<span class=button__icon>â†’</span></a></span></div></div></main></div><footer class=footer></footer></div><script type=text/javascript src=/bundle.min.a2c5b062c87998f04d1b5dfb6a89a1b2d79786c21d0cb63a05e8a2082984b64b77d80955e3b97eab17273775162ba372511b711fea2f7608f216e68a67bb22d6.js integrity="sha512-osWwYsh5mPBNG137aomhsteXhsIdDLY6BeiiCCmEtkt32AlV47l+qxcnN3UWK6NyURtxH+ovdgjyFuaKZ7si1g=="></script></body></html>